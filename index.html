<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EÅŸiyok'u GerÃ§ekten TanÄ±yor Musun?</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* TEMEL STÄ°LLER */
        :root {
            --primary-color: #6a11cb;
            --secondary-color: #2575fc;
            --correct-color: #28a745;
            --incorrect-color: #dc3545;
            --background-color: #f0f2f5;
            --card-background: #ffffff;
            --text-color: #333;
            --light-text-color: #6c757d;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Poppins', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            padding: 20px;
            overflow: hidden;
        }
        
        /* BAÅžLANGIÃ‡ EKRANI */
        .card-container {
             background-color: var(--card-background);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            width: 100%;
            max-width: 600px;
            overflow: hidden;
            padding: 40px;
            text-align: center;
            transform: scale(1);
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }

        #start-screen h2 {
            font-size: 2em;
            color: var(--text-color);
            margin-bottom: 30px;
        }

        .start-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        .start-buttons button {
            font-family: 'Poppins', sans-serif;
            font-size: 1.2em;
            font-weight: 600;
            padding: 15px 40px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        #start-btn-yes {
            background-color: var(--correct-color);
            color: white;
        }
        #start-btn-yes:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(40, 167, 69, 0.4);
        }

        #start-btn-no {
            background-color: var(--incorrect-color);
            color: white;
            /* KaÃ§ma animasyonu iÃ§in pozisyon ve geÃ§iÅŸ */
            position: relative; /* BaÅŸlangÄ±Ã§ta normal akÄ±ÅŸta */
            transition: top 0.3s ease-out, left 0.3s ease-out;
        }

        /* ANA TEST KARTI (BAÅžLANGIÃ‡TA GÄ°ZLÄ°) */
        .quiz-container {
            display: none; 
            transform: scale(1);
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        
        .quiz-container.hiding {
            transform: scale(0.95);
            opacity: 0;
        }
        
        .quiz-header {
            padding: 30px 40px;
        }

        /* Ä°lerleme Ã‡ubuÄŸu, Sorular vb. stiller aynÄ± kalÄ±yor... */
        .progress-bar-container{width:100%;height:8px;background-color:#e0e0e0;border-radius:5px;margin-bottom:20px}.progress-bar{width:0%;height:100%;background:linear-gradient(90deg,var(--primary-color),var(--secondary-color));border-radius:5px;transition:width .4s ease-in-out}#question-counter{font-size:.9em;color:var(--light-text-color);margin-bottom:10px;font-weight:600}#question-text{font-size:1.5em;font-weight:600;color:var(--text-color);margin-bottom:30px;line-height:1.4}.options-container{display:grid;gap:15px}.option-btn{display:block;width:100%;background-color:var(--background-color);border:2px solid #e0e0e0;color:var(--text-color);font-family:'Poppins',sans-serif;font-size:1em;font-weight:600;text-align:left;padding:15px 20px;border-radius:10px;cursor:pointer;transition:all .2s ease}.option-btn:hover:not([disabled]){background-color:#e9ecef;border-color:var(--secondary-color)}.option-btn.correct{background-color:var(--correct-color);border-color:var(--correct-color);color:#fff;animation:pulse .5s}.option-btn.incorrect{background-color:var(--incorrect-color);border-color:var(--incorrect-color);color:#fff;animation:shake .5s}.option-btn:disabled{cursor:not-allowed}.result-screen{display:none;text-align:center;padding:40px}.result-screen h2{font-size:2.5em;margin-bottom:20px}.result-screen p{font-size:1.2em;color:var(--light-text-color);margin-bottom:30px}.whatsapp-link{display:inline-block;color:#fff;padding:15px 30px;border-radius:50px;text-decoration:none;font-weight:600;font-size:1.1em;transition:transform .2s ease,box-shadow .2s ease}#whatsapp-fail-link{background-color:#25D366;box-shadow:0 4px 15px rgba(37,211,102,.4)}#whatsapp-fail-link:hover{transform:translateY(-3px);box-shadow:0 6px 20px rgba(37,211,102,.5)}#whatsapp-success-link{background:linear-gradient(45deg,var(--primary-color),var(--secondary-color));box-shadow:0 4px 15px rgba(4,82,228,.4)}#whatsapp-success-link:hover{transform:translateY(-3px);box-shadow:0 6px 20px rgba(4,82,228,.5)}@keyframes shake{0%,100%{transform:translateX(0)}10%,30%,50%,70%,90%{transform:translateX(-10px)}20%,40%,60%,80%{transform:translateX(10px)}}@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}.confetti{width:15px;height:15px;background-color:red;position:absolute;top:-20px;animation:confetti-fall 3s linear infinite}@keyframes confetti-fall{0%{transform:translateY(0) rotate(0)}100%{transform:translateY(110vh) rotate(720deg)}}

    </style>
</head>
<body>
    
    <div class="card-container" id="start-screen">
        <h2>Bu teste katÄ±lmak istiyor musun?</h2>
        <div class="start-buttons">
            <button id="start-btn-yes">Evet</button>
            <button id="start-btn-no">HayÄ±r</button>
        </div>
    </div>
    
    <div class="card-container quiz-container" id="quiz-container">
        <div id="quiz-screen">
            <div class="quiz-header">
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                <div id="question-counter"></div>
                <h2 id="question-text"></h2>
                <div class="options-container" id="options-container"></div>
            </div>
        </div>
        
        <div class="result-screen" id="fail-screen">
            <h2>Kaybettin! ðŸ˜”</h2>
            <p>GÃ¶rÃ¼nÃ¼ÅŸe gÃ¶re EÅŸiyok'u yeterince tanÄ±mÄ±yorsun. Ama Ã¼zÃ¼lme, ÅŸimdi tanÄ±ÅŸma fÄ±rsatÄ±n var!</p>
            <a href="#" id="whatsapp-fail-link" class="whatsapp-link" target="_blank">EÅŸiyok ile TanÄ±ÅŸ</a>
        </div>
        
        <div class="result-screen" id="success-screen">
             <h2>Tebrikler! ðŸ¥³</h2>
            <p>Vay canÄ±na! Sen EÅŸiyok'u gerÃ§ekten Ã§ok iyi tanÄ±yorsun. Bu bir alkÄ±ÅŸÄ± hak eder!</p>
            <a href="#" id="whatsapp-success-link" class="whatsapp-link" target="_blank">BaÅŸarÄ±nÄ± Kutla!</a>
        </div>
    </div>

    <script>
        // TÃœM ELEMENTLERÄ° SEÃ‡
        const startScreenEl = document.getElementById('start-screen');
        const quizContainerEl = document.getElementById('quiz-container');
        const startBtnYes = document.getElementById('start-btn-yes');
        const startBtnNo = document.getElementById('start-btn-no');

        // ------ BAÅžLANGIÃ‡ EKRANI MANTIÄžI ------
        
        // "EVET" BUTONUNA TIKLANINCA
        startBtnYes.addEventListener('click', () => {
            // BaÅŸlangÄ±Ã§ ekranÄ±nÄ± gizle, test kartÄ±nÄ± gÃ¶ster
            startScreenEl.style.display = 'none';
            quizContainerEl.style.display = 'block';
            startQuiz(); // Testi baÅŸlat
        });

        // "HAYIR" BUTONUNUN ÃœZERÄ°NE GELÄ°NCE
        startBtnNo.addEventListener('mouseover', () => {
            // Butonun yeni pozisyonunu hesapla
            const containerRect = document.body.getBoundingClientRect();
            const btnRect = startBtnNo.getBoundingClientRect();
            
            let newTop = Math.random() * (containerRect.height - btnRect.height);
            let newLeft = Math.random() * (containerRect.width - btnRect.width);

            // Butonun pozisyonunu deÄŸiÅŸtir
            startBtnNo.style.position = 'absolute';
            startBtnNo.style.top = `${newTop}px`;
            startBtnNo.style.left = `${newLeft}px`;
        });


        // ------ TEST MANTIÄžI ------

        const questions = [
            { question: "EÅŸiyok'un en sevdiÄŸi renk nedir?", options: ["KÄ±rmÄ±zÄ±", "Mavi", "YeÅŸil", "SarÄ±"], answer: "Mavi" },
            { question: "EÅŸiyok'un doÄŸum gÃ¼nÃ¼ ne zamandÄ±r?", options: ["1 Ocak 2003", "14 Åžubat 2004", "23 Nisan 2005", "19 MayÄ±s 2002"], answer: "14 Åžubat 2004" },
            { question: "EÅŸiyok'un en yakÄ±ÅŸÄ±klÄ± oda arkadaÅŸÄ± kimdir?", options: ["Ahmet", "Mert", "Mikail", "Ä°smail"], answer: "Ä°smail" },
            { question: "EÅŸiyok hangi ÅŸarkÄ±yÄ± seÃ§erdi?", options: ["Ati - Ä°talyforma", "Kayra - Basit Birer TesadÃ¼f", "Sagopa - Merhametine DÃ¶n", "Kayra - Ã‡ok YaÅŸlÄ±yÄ±m"], answer: "Kayra - Basit Birer TesadÃ¼f" },
            { question: "EÅŸiyok'a gÃ¶re en iyi 'depresyon' ÅŸarkÄ±sÄ± hangisidir?", options: ["Vegh - GÃ¼ldÃ¼ÄŸÃ¼n GÃ¼n", "Ah CanÄ±m Sevgilim", "Bu Åžehir Beni BoÄŸuyor", "YarÄ±m Kalan Sigara"], answer: "Ah CanÄ±m Sevgilim" },
            { question: "EÅŸiyok'un en gÃ¼venilir kelimesi hangisidir?", options: ["Hallederiz", "BakarÄ±z obe", "Relax olcan"], answer: "Relax olcan" },
            { question: "EÅŸiyok hangi kitabÄ± seÃ§erdi?", options: ["Serenad", "KÃ¼rk Mantolu Madonna", "Bir KÃ¼rt Sevdim", "KuyucaklÄ± Yusuf"], answer: "Serenad" },
            { question: "EÅŸiyok'un 'best' stickerÄ± hangisidir?", options: ["Fatih Terim gururlu bakÄ±ÅŸ", "EyÃ¼p B kÃ¼Ã§Ã¼mseyici bakÄ±ÅŸ", "Zenci gÃ¶tÃ¼", "Sinan Engin"], answer: "Fatih Terim gururlu bakÄ±ÅŸ" }
        ];

        let currentQuestionIndex = 0;
        const phoneNumber = "905526673043";

        const questionTextEl = document.getElementById('question-text');
        const optionsContainerEl = document.getElementById('options-container');
        const progressBarEl = document.getElementById('progress-bar');
        const questionCounterEl = document.getElementById('question-counter');

        function startQuiz() {
            currentQuestionIndex = 0;
            loadQuestion();
        }

        function loadQuestion() {
            optionsContainerEl.innerHTML = '';
            const currentQuestion = questions[currentQuestionIndex];
            questionTextEl.innerText = currentQuestion.question;
            questionCounterEl.innerText = `Soru ${currentQuestionIndex + 1} / ${questions.length}`;
            const progressPercentage = ((currentQuestionIndex) / questions.length) * 100;
            progressBarEl.style.width = `${progressPercentage}%`;

            currentQuestion.options.forEach(option => {
                const button = document.createElement('button');
                button.innerText = option;
                button.classList.add('option-btn');
                button.addEventListener('click', () => selectAnswer(option, button));
                optionsContainerEl.appendChild(button);
            });
        }

        function selectAnswer(selectedOption, button) {
            const allOptions = optionsContainerEl.getElementsByClassName('option-btn');
            for(let btn of allOptions) { btn.disabled = true; }

            const correctAnswer = questions[currentQuestionIndex].answer;

            if (selectedOption === correctAnswer) {
                button.classList.add('correct');
                progressBarEl.style.width = `${((currentQuestionIndex + 1) / questions.length) * 100}%`;
                setTimeout(() => {
                    currentQuestionIndex++;
                    if (currentQuestionIndex < questions.length) {
                        loadQuestion();
                    } else {
                        showSuccessScreen();
                    }
                }, 1000);
            } else {
                button.classList.add('incorrect');
                setTimeout(showFailScreen, 1000);
            }
        }

        function showFailScreen() {
            const message = encodeURIComponent("EÅŸiyok seni tanÄ±mÄ±yormuÅŸum daha fazla tanÄ±mak isterim");
            const whatsappURL = `https://wa.me/${phoneNumber}?text=${message}`;
            document.getElementById('whatsapp-fail-link').href = whatsappURL;
            switchScreen('quiz-screen', 'fail-screen');
        }

        function showSuccessScreen() {
            const message = encodeURIComponent("EÅžÄ°YOK SENÄ° SENDEN DAHA Ä°YÄ° TANIYORUM");
            const whatsappURL = `https://wa.me/${phoneNumber}?text=${message}`;
            document.getElementById('whatsapp-success-link').href = whatsappURL;
            switchScreen('quiz-screen', 'success-screen', triggerConfetti);
        }
        
        function switchScreen(from, to, callback) {
            const fromEl = document.getElementById(from).parentElement; // Get the container of the screen
            const toEl = document.getElementById(to);
            
            fromEl.style.display = 'none'; // Hide the whole quiz container
            if (to.includes('screen')) {
                quizContainerEl.style.display = 'block'; // Ensure the container is visible for result screens
            }
            
            document.getElementById(from).style.display = 'none';
            toEl.style.display = 'block';

            if (callback) callback();
        }

        // Bu fonksiyon, switchScreen fonksiyonunun daha temiz bir versiyonu, ama yukarÄ±dakinin Ã§alÄ±ÅŸmasÄ± garanti
        function _switchScreen_clean(from, to, callback) {
            const quizHeader = document.getElementById('quiz-screen');
            const failScreen = document.getElementById('fail-screen');
            const successScreen = document.getElementById('success-screen');

            // Hide all sections first
            quizHeader.style.display = 'none';
            failScreen.style.display = 'none';
            successScreen.style.display = 'none';

            // Show the target section
            document.getElementById(to).style.display = 'block';

            if (callback) callback();
        }
        
        function triggerConfetti() {
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                confetti.style.animationDelay = Math.random() * 2 + 's';
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 4000);
            }
        }

        // Testi otomatik baÅŸlatma satÄ±rÄ±nÄ± siliyoruz.
        // startQuiz(); // BU ARTIK "EVET" BUTONUYLA Ã‡AÄžRILIYOR.

    </script>
</body>
</html>
